# AI-Enhanced Trading Bot Configuration
# This bot uses AI analysis to make trading decisions

# Bot identification and connection settings
name: "bot-ai-enhanced"
env_file: ".env"
rpc_endpoint: "${SOLANA_NODE_RPC_ENDPOINT}"
wss_endpoint: "${SOLANA_NODE_WSS_ENDPOINT}"
private_key: "${SOLANA_PRIVATE_KEY}"

enabled: true
separate_process: true

# Platform configuration
platform: "pump_fun"

# AI Configuration
ai:
  enabled: true
  providers:
    ollama:
      enabled: true
      url: "${OLLAMA_URL}"
      model: "llama3.2"
      timeout: 30
    lmstudio:
      enabled: true
      url: "${LMSTUDIO_URL}"
      model: "local-model"
      timeout: 30
    localai:
      enabled: true
      url: "${LOCALAI_URL}"
      model: "gpt-3.5-turbo"
      timeout: 30
    gemini:
      enabled: true
      api_key: "${GEMINI_API_KEY}"
      model: "gemini-1.5-flash"
      timeout: 30
  
  # AI decision thresholds
  min_confidence: 0.7  # Minimum confidence to execute trade
  max_risk_score: 0.6  # Maximum risk score to allow trade
  require_consensus: true  # Require majority consensus from providers

# Geyser configuration (fastest method)
geyser:
  endpoint: "${GEYSER_ENDPOINT}"
  api_token: "${GEYSER_API_TOKEN}"
  auth_type: "x-token"

# Trading parameters
trade:
  buy_amount: 0.001  # Amount of SOL to spend when buying
  buy_slippage: 0.2  # 20% slippage tolerance
  sell_slippage: 0.3  # 30% slippage tolerance

  # Exit strategy configuration
  exit_strategy: "tp_sl"  # Use AI-enhanced take profit/stop loss
  take_profit_percentage: 0.5  # 50% profit target
  stop_loss_percentage: 0.3   # 30% loss limit
  max_hold_time: 300  # 5 minutes maximum hold
  price_check_interval: 5  # Check price every 5 seconds

  # Fast mode disabled for AI analysis
  extreme_fast_mode: false

# Priority fee configuration
priority_fees:
  enable_dynamic: true  # Use dynamic fees for better execution
  enable_fixed: false
  fixed_amount: 500_000
  extra_percentage: 0.1  # 10% extra for faster execution
  hard_cap: 1_000_000

# Filters for token selection
filters:
  match_string: null
  bro_address: null
  listener_type: "geyser"  # Use fastest listener for AI analysis
  max_token_age: 0.5  # Allow slightly older tokens for AI analysis
  marry_mode: false
  yolo_mode: false

# Retry and timeout settings
retries:
  max_attempts: 3
  wait_after_creation: 10  # Reduced wait for AI analysis
  wait_after_buy: 5
  wait_before_new_token: 30

# Token and account management
cleanup:
  mode: "after_sell"
  force_close_with_burn: false
  with_priority_fee: true

# Node provider configuration
node:
  max_rps: 50  # Higher RPS for AI-enhanced trading